{"version":3,"sources":["main.js"],"names":["mySwiper","Swiper","speed","direction","loop","effect","autoplay","delay","pagination","el","type","clickable","apiWebsite","imgPath","apiKey","sortBy","pageNumber","filmName","tabs","document","querySelector","tabItem","querySelectorAll","tabContent","genre","genresList","chosenGenre","removeContent","place","innerHTML","popularityContent","getElementById","votesContent","releaseContent","revenueContent","genresContent","getMovies","fetch","then","res","json","data","resp","listOfGenres","genres","getGenreId","i","results","length","choosePicture","title","getGenre","genre_ids","vote_average","overview","turnCards","idList","genreName","key","id","push","name","join","forEach","addEventListener","e","genreInnerName","target","innerText","console","log","poster_path","backdrop_path","moviesMain","moviesSecondary","close","classList","add","remove","hideTabContent","a","showTabContent","b","contains","dataset","sorting","genreStatus","style","display"],"mappings":"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","file":"main.min.js","sourcesContent":["var mySwiper = new Swiper('.swiper-container', {\r\n    speed: 600,\r\n    direction: 'vertical',\r\n    loop: true,\r\n    effect: 'fade',\r\n    autoplay: {\r\n        delay: 4000,\r\n    },\r\n    pagination: {\r\n        el: '.swiper-pagination',\r\n        type: 'bullets',\r\n        clickable: true\r\n    },\r\n})\r\n\r\nlet apiWebsite = 'https://api.themoviedb.org',\r\n    imgPath = 'https://image.tmdb.org/t/p/w500/',\r\n    apiKey = 'af1839ce155ad8642849b3775138bdce',\r\n    sortBy = 'popularity.desc',\r\n    pageNumber = 1,\r\n    filmName = 'Star Wars';\r\n\r\nlet tabs = document.querySelector('.movies__tabs'),\r\n    tabItem = document.querySelectorAll('.tab'),\r\n    tabContent = document.querySelectorAll('.movies__content'),\r\n    genre = document.querySelector('#genre'),\r\n    genresList = document.querySelector('.movies__genres'),\r\n    chosenGenre = document.querySelectorAll('.movies__genre');\r\n\r\nfunction removeContent(place) {\r\n    place.innerHTML = ''\r\n}\r\n\r\nlet popularityContent = document.getElementById('popularityContent'),\r\n    votesContent = document.getElementById('votesContent'),\r\n    releaseContent = document.getElementById('releaseContent'),\r\n    revenueContent = document.getElementById('revenueContent'),\r\n    genresContent = document.getElementById('genresContent');\r\n\r\n\r\n\r\n// API\r\nfunction getMovies(place, genre) {\r\n    fetch(`${apiWebsite}/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=${sortBy}&include_adult=false&include_video=false&page=${pageNumber}${genre}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n\r\n            fetch(`${apiWebsite}/3/genre/movie/list?api_key=${apiKey}&language=en-US`)\r\n                .then(resp => resp.json())\r\n                .then(genre => {\r\n                    let listOfGenres = genre.genres;\r\n                    getGenreId(listOfGenres);\r\n\r\n                    for (let i = 0; i < data.results.length; i++) {\r\n\r\n                        place.innerHTML += `\r\n                            <div class=\"movies__item\">\r\n                                        <div class=\"movies__main scaleOut\" >\r\n                                            <div class=\"movies__main-img-wrap\">\r\n                                                <img class=\"movies__main-img\" src=\"${choosePicture(data, i)} \" alt=\"${data.results[i].title}\">\r\n                                            </div>\r\n                                            <div class=\"movies__main-info\">\r\n                                                <div class=\"movies__main-text\">\r\n                                                    <span class=\"movies__main-title\" title=\"${data.results[i].title}\" >\r\n                                                        ${data.results[i].title}\r\n                                                    </span>\r\n                                                    <span class=\"movies__main-genre\">\r\n                                                    ${getGenre(data.results[i].genre_ids, listOfGenres)} \r\n                                                    \r\n                                                    </span>\r\n                                                </div>\r\n                                                <div class=\"rating-num rating-num--brand\">${data.results[i].vote_average}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"movies__secondary disabled scaleOut\">\r\n                                            <img class=\"movies__secondary-img\" src=\"${choosePicture(data, i)}\" alt=\"${data.results[i].title}\">\r\n                                            <div class=\"movies__secondary-info\">\r\n                                                <div class=\"movies__secondary-btns\">\r\n                                                    <button class=\"btn btn--simple close\">\r\n                                                        <svg width=\"20px\" height=\"20px\">\r\n                                                            <use xlink:href=\"#close\"></use>\r\n                                                        </svg>\r\n                                                    </button>\r\n                                                    <div class=\"movies__secondary-btns-right\">\r\n                                                        <button class=\"btn btn--simple\">+ Favorites</button>\r\n                                                        <button class=\"btn btn--simple\">\r\n                                                            <svg width=\"5px\" height=\"21px\">\r\n                                                                <use xlink:href=\"#dots\"></use>\r\n                                                            </svg>\r\n                                                        </button>\r\n                                                        </di>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class=\"movies__secondary-titleblock\">\r\n                                                    <div class=\"movies__main-text\">\r\n                                                        <span class=\"movies__main-title\"  title=\"${data.results[i].title}\">\r\n                                                        ${data.results[i].title}\r\n                                                        </span>\r\n                                                        <span class=\"movies__main-genre\">\r\n                                                        ${getGenre(data.results[i].genre_ids, listOfGenres)}\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div class=\"rating-num rating-num--brand\">${data.results[i].vote_average}</div>\r\n                                                </div>\r\n                                                <div class=\"movies__secondary-description\">\r\n                                                    ${data.results[i].overview}\r\n                                                </div>\r\n                                                <button class=\"btn btn--bg\">Watch Now</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                            `\r\n\r\n                        turnCards()\r\n                    }\r\n                })\r\n\r\n        })\r\n}\r\n\r\ngetMovies(popularityContent)\r\n\r\n\r\n// Converting the genre id to the genre name\r\n\r\nfunction getGenre(idList, listOfGenres) {\r\n    let genreName = [];\r\n    for (let key of listOfGenres) {\r\n        for (let i = 0; i < idList.length; i++) {\r\n            if (key.id == idList[i]) {\r\n                genreName.push(key.name)\r\n            }\r\n        }\r\n    }\r\n    return genreName.join(', ')\r\n}\r\n\r\n\r\n\r\nfunction getGenreId(listOfGenres) {\r\n\r\n    removeContent(genresContent);\r\n\r\n    chosenGenre.forEach((el) => {\r\n        el.addEventListener('click', function (e) {\r\n            // console.log(e);\r\n            let genreInnerName = e.target.innerText;\r\n            // console.log(genreInnerName, el);\r\n            let genre;\r\n            for (let i = 0; i < listOfGenres.length; i++) {\r\n                if (listOfGenres[i].name == genreInnerName) {\r\n\r\n                    console.log(listOfGenres[i].name, genreInnerName)\r\n                    genre = '&with_genres=' + listOfGenres[i].id;\r\n                }\r\n            }\r\n\r\n            // console.log(genre)\r\n\r\n            getMovies(genresContent, genre);\r\n            // return genreInnerName;\r\n            // for (let key of listOfGenres) {\r\n\r\n        })\r\n    })\r\n}\r\n// console.log(listOfGenres)\r\n\r\n\r\n\r\n// Choosing the path to the poster\r\n\r\nfunction choosePicture(data, i) {\r\n    if (data.results[i].poster_path == null && data.results[i].backdrop_path == null) {\r\n        return 'img/no-poster.jpg'\r\n    } else if (data.results[i].poster_path == null) {\r\n        return `${imgPath}${data.results[i].backdrop_path}`\r\n    }\r\n\r\n    return `${imgPath}${data.results[i].poster_path}`\r\n}\r\n\r\n// Showing the back and the front side of cards after pressing them\r\n\r\nfunction turnCards() {\r\n    let moviesMain = document.querySelectorAll('.movies__main'),\r\n        moviesSecondary = document.querySelectorAll('.movies__secondary'),\r\n        close = document.querySelectorAll('.close');\r\n\r\n    for (let i = 0; i < moviesMain.length; i++) {\r\n        moviesMain[i].addEventListener('click', function () {\r\n            moviesMain[i].classList.add('disabled')\r\n            moviesSecondary[i].classList.remove('disabled')\r\n        })\r\n\r\n        close[i].addEventListener('click', function () {\r\n            moviesMain[i].classList.remove('disabled')\r\n            moviesSecondary[i].classList.add('disabled')\r\n        })\r\n    }\r\n}\r\n\r\n\r\n// Tabs and showing the tab content from API\r\n\r\nfunction hideTabContent(a) {\r\n    for (let i = a; i < tabItem.length; i++) {\r\n        tabContent[i].classList.add('disabled');\r\n        tabItem[i].classList.remove('active-tab')\r\n    }\r\n}\r\n\r\nhideTabContent(1)\r\n\r\nfunction showTabContent(b) {\r\n    if (tabContent[b].classList.contains('disabled')) {\r\n        tabContent[b].classList.remove('disabled');\r\n        tabItem[b].classList.add('active-tab')\r\n        sortBy = tabItem[b].dataset.sorting;\r\n        // console.log(tabItem[b])\r\n        switch (sortBy) {\r\n            case 'popularity.desc':\r\n                removeContent(popularityContent)\r\n                getMovies(popularityContent)\r\n                break;\r\n            case 'vote_average.desc':\r\n                removeContent(votesContent)\r\n                getMovies(votesContent)\r\n                break;\r\n            case 'release_date.desc':\r\n                removeContent(releaseContent)\r\n                getMovies(releaseContent)\r\n                break;\r\n            case 'revenue.desc':\r\n                removeContent(revenueContent)\r\n                getMovies(revenueContent)\r\n                break;\r\n                // case 'showGenre':\r\n                //     removeContent(genresContent)\r\n                //     getMovies(genresContent)\r\n                //     break;\r\n        }\r\n    }\r\n}\r\n\r\ntabs.addEventListener('click', function (e) {\r\n    let target = e.target;\r\n    if (target && target.classList.contains('movies__tab')) {\r\n        for (let i = 0; i < tabItem.length; i++) {\r\n            if (target == tabItem[i]) {\r\n                hideTabContent(0);\r\n                showTabContent(i)\r\n                break\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n\r\nlet genreStatus = false;\r\n\r\n\r\ngenre.addEventListener('click', function (e) {\r\n    if (!genreStatus) {\r\n        genresList.style.display = 'block';\r\n        genreStatus = true;\r\n    } else {\r\n        genresList.style.display = 'none';\r\n        genreStatus = false;\r\n    }\r\n})\r\n\r\ndocument.addEventListener('click', function (e) {\r\n    if (e.target.id != 'genre') {\r\n        if (genreStatus) {\r\n            genresList.style.display = 'none';\r\n            genreStatus = false;\r\n        }\r\n        console.log('click')\r\n    }\r\n})"]}