var mySwiper=new Swiper(".swiper-container",{speed:600,direction:"vertical",loop:!0,effect:"fade",autoplay:{delay:4e3},pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}});let apiWebsite="https://api.themoviedb.org",imgPath="https://image.tmdb.org/t/p/w500/",apiKey="af1839ce155ad8642849b3775138bdce",sortBy="popularity.desc",pageNumber=1,filmName="Star Wars",tabs=document.querySelector(".movies__tabs"),tabItem=document.querySelectorAll(".tab"),tabContent=document.querySelectorAll(".movies__content"),genre=document.querySelector("#genre"),genresList=document.querySelector(".movies__genres"),chosenGenre=document.querySelectorAll(".movies__genre");function removeContent(e){e.innerHTML=""}let popularityContent=document.getElementById("popularityContent"),votesContent=document.getElementById("votesContent"),releaseContent=document.getElementById("releaseContent"),revenueContent=document.getElementById("revenueContent"),genresContent=document.getElementById("genresContent");function getMovies(e,t){fetch(`${apiWebsite}/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=${sortBy}&include_adult=false&include_video=false&page=${pageNumber}${t}`).then(e=>e.json()).then(t=>{fetch(`${apiWebsite}/3/genre/movie/list?api_key=${apiKey}&language=en-US`).then(e=>e.json()).then(n=>{let s=n.genres;getGenreId(s);for(let n=0;n<t.results.length;n++)e.innerHTML+=`\n                            <div class="movies__item">\n                                        <div class="movies__main scaleOut" >\n                                            <div class="movies__main-img-wrap">\n                                                <img class="movies__main-img" src="${choosePicture(t,n)} " alt="${t.results[n].title}">\n                                            </div>\n                                            <div class="movies__main-info">\n                                                <div class="movies__main-text">\n                                                    <span class="movies__main-title" title="${t.results[n].title}" >\n                                                        ${t.results[n].title}\n                                                    </span>\n                                                    <span class="movies__main-genre">\n                                                    ${getGenre(t.results[n].genre_ids,s)} \n                                                    \n                                                    </span>\n                                                </div>\n                                                <div class="rating-num rating-num--brand">${t.results[n].vote_average}</div>\n                                            </div>\n                                        </div>\n                                        <div class="movies__secondary disabled scaleOut">\n                                            <img class="movies__secondary-img" src="${choosePicture(t,n)}" alt="${t.results[n].title}">\n                                            <div class="movies__secondary-info">\n                                                <div class="movies__secondary-btns">\n                                                    <button class="btn btn--simple close">\n                                                        <svg width="20px" height="20px">\n                                                            <use xlink:href="#close"></use>\n                                                        </svg>\n                                                    </button>\n                                                    <div class="movies__secondary-btns-right">\n                                                        <button class="btn btn--simple">+ Favorites</button>\n                                                        <button class="btn btn--simple">\n                                                            <svg width="5px" height="21px">\n                                                                <use xlink:href="#dots"></use>\n                                                            </svg>\n                                                        </button>\n                                                        </di>\n                                                    </div>\n                                                </div>\n                                                <div class="movies__secondary-titleblock">\n                                                    <div class="movies__main-text">\n                                                        <span class="movies__main-title"  title="${t.results[n].title}">\n                                                        ${t.results[n].title}\n                                                        </span>\n                                                        <span class="movies__main-genre">\n                                                        ${getGenre(t.results[n].genre_ids,s)}\n                                                        </span>\n                                                    </div>\n                                                    <div class="rating-num rating-num--brand">${t.results[n].vote_average}</div>\n                                                </div>\n                                                <div class="movies__secondary-description">\n                                                    ${t.results[n].overview}\n                                                </div>\n                                                <button class="btn btn--bg">Watch Now</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                            `,turnCards()})})}function getGenre(e,t){let n=[];for(let s of t)for(let t=0;t<e.length;t++)s.id==e[t]&&n.push(s.name);return n.join(", ")}function getGenreId(e){removeContent(genresContent),chosenGenre.forEach(t=>{t.addEventListener("click",(function(t){let n,s=t.target.innerText;for(let t=0;t<e.length;t++)e[t].name==s&&(console.log(e[t].name,s),n="&with_genres="+e[t].id);getMovies(genresContent,n)}))})}function choosePicture(e,t){return null==e.results[t].poster_path&&null==e.results[t].backdrop_path?"img/no-poster.jpg":null==e.results[t].poster_path?`${imgPath}${e.results[t].backdrop_path}`:`${imgPath}${e.results[t].poster_path}`}function turnCards(){let e=document.querySelectorAll(".movies__main"),t=document.querySelectorAll(".movies__secondary"),n=document.querySelectorAll(".close");for(let s=0;s<e.length;s++)e[s].addEventListener("click",(function(){e[s].classList.add("disabled"),t[s].classList.remove("disabled")})),n[s].addEventListener("click",(function(){e[s].classList.remove("disabled"),t[s].classList.add("disabled")}))}function hideTabContent(e){for(let t=e;t<tabItem.length;t++)tabContent[t].classList.add("disabled"),tabItem[t].classList.remove("active-tab")}function showTabContent(e){if(tabContent[e].classList.contains("disabled"))switch(tabContent[e].classList.remove("disabled"),tabItem[e].classList.add("active-tab"),sortBy=tabItem[e].dataset.sorting,sortBy){case"popularity.desc":removeContent(popularityContent),getMovies(popularityContent);break;case"vote_average.desc":removeContent(votesContent),getMovies(votesContent);break;case"release_date.desc":removeContent(releaseContent),getMovies(releaseContent);break;case"revenue.desc":removeContent(revenueContent),getMovies(revenueContent)}}getMovies(popularityContent),hideTabContent(1),tabs.addEventListener("click",(function(e){let t=e.target;if(t&&t.classList.contains("movies__tab"))for(let e=0;e<tabItem.length;e++)if(t==tabItem[e]){hideTabContent(0),showTabContent(e);break}}));let genreStatus=!1;genre.addEventListener("click",(function(e){genreStatus?(genresList.style.display="none",genreStatus=!1):(genresList.style.display="block",genreStatus=!0)})),document.addEventListener("click",(function(e){"genre"!=e.target.id&&(genreStatus&&(genresList.style.display="none",genreStatus=!1),console.log("click"))}));
//# sourceMappingURL=main.min.js.map
